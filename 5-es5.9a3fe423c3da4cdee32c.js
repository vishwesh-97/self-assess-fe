function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"9zb2":function(t,e,n){"use strict";n.r(e),n.d(e,"AssessmentModule",(function(){return V}));var s=n("ofXK"),i=n("tyNb"),o=n("3Pt+"),a=n("fXoL"),c=n("t6gY"),r=n("jhN1"),l=n("b6Qw"),b=n("5eHb"),d=n("EtQq"),u=["closeModalBtn"],m=function(t){return["/assessment/start/",t]};function f(t,e){if(1&t&&(a.Pb(0,"li",27),a.oc(1),a.Ob()),2&t){var n=e.$implicit;a.ec("routerLink",a.gc(2,m,n.id)),a.zb(1),a.qc(" ",n.name||"NA"," ")}}function g(t,e){if(1&t&&(a.Nb(0),a.Pb(1,"ul",25),a.nc(2,f,2,4,"li",26),a.Ob(),a.Mb()),2&t){var n=a.bc();a.zb(2),a.ec("ngForOf",n.assessmentList)}}function h(t,e){1&t&&(a.Nb(0),a.Pb(1,"p",28),a.oc(2,"Add assessment by clicking on Add New button!"),a.Ob(),a.Mb())}function p(t,e){1&t&&(a.Pb(0,"button",29),a.oc(1,"ADD NEW"),a.Ob())}function v(t,e){if(1&t&&(a.Pb(0,"li",33),a.oc(1),a.Pb(2,"footer",34),a.oc(3),a.cc(4,"date"),a.Ob(),a.Pb(5,"footer",35),a.Pb(6,"b"),a.oc(7,"Tone"),a.Ob(),a.oc(8),a.Ob(),a.Ob()),2&t){var n=e.$implicit;a.zb(1),a.qc(" ",n.text," "),a.zb(2),a.pc(a.dc(4,3,n.created_at,"medium")),a.zb(5),a.qc(": ",n.tone||"NA","")}}function O(t,e){if(1&t&&(a.Pb(0,"div",30),a.Pb(1,"ul",31),a.nc(2,v,9,6,"li",32),a.Ob(),a.Ob()),2&t){var n=a.bc();a.zb(2),a.ec("ngForOf",n.tweetList)}}function w(t,e){if(1&t&&(a.Pb(0,"form",36),a.Pb(1,"div",1),a.Pb(2,"div",37),a.oc(3," Name: "),a.Lb(4,"input",38),a.Ob(),a.Pb(5,"div",39),a.oc(6," Days: "),a.Lb(7,"input",40),a.Ob(),a.Ob(),a.Ob()),2&t){var n=a.bc();a.ec("formGroup",n.newAssessmentForm)}}var P,y,x=((y=function(){function t(e,n,s,i,o,a,c,r){_classCallCheck(this,t),this.route=e,this.router=n,this.http=s,this.titleService=i,this.cookieService=o,this.formBuilder=a,this.elementRef=c,this.toastr=r,this.assessmentList=null,this.loading=!1,this.userData=null,this.tweetList=null}return _createClass(t,[{key:"ngOnInit",value:function(){this.getAssessmentList(),this.getTweets(),this.newAssessmentForm=this.formBuilder.group({name:[null,o.n.required],days:[null,o.n.required]}),this.userData=JSON.parse(localStorage.getItem("user_data"))}},{key:"ngAfterViewInit",value:function(){this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor="lightgray"}},{key:"getAssessmentList",value:function(){var t=this;this.http.get("all-assessments").subscribe((function(e){t.assessmentList=e}),(function(t){console.log(t)}))}},{key:"getTweets",value:function(){var t=this;this.http.get("cbc-tweets").subscribe((function(e){t.tweetList=e.tweets}))}},{key:"addNew",value:function(){var t=this;this.userData&&this.userData.user_id&&(this.loading=!0,this.http.post("user-assessment",{user:this.userData.user_id,name:this.newAssessmentForm.value.name,total_days:this.newAssessmentForm.value.days}).subscribe((function(e){console.log(e),t.loading=!1,t.closeBtn.nativeElement.click(),t.toastr.success("","Assessment created!",{timeOut:3e3}),t.getAssessmentList()}),(function(e){console.log(e),t.loading=!1})))}},{key:"closeModal",value:function(){this.newAssessmentForm.reset()}}]),t}()).\u0275fac=function(t){return new(t||y)(a.Kb(i.a),a.Kb(i.b),a.Kb(c.a),a.Kb(r.c),a.Kb(l.a),a.Kb(o.b),a.Kb(a.l),a.Kb(b.b))},y.\u0275cmp=a.Eb({type:y,selectors:[["app-assessment-management"]],viewQuery:function(t,e){var n;1&t&&a.tc(u,!0),2&t&&a.hc(n=a.Yb())&&(e.closeBtn=n.first)},decls:35,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-md-8"],[1,"main-div","card","container-fluid"],[1,"card-body"],[1,"title"],[1,"int-list-div"],[4,"ngIf"],[1,"add-btn-div"],["class","btn btn-dark add-btn","data-toggle","modal","data-target","#addAssessmentModal",4,"ngIf"],[1,"col-md-4"],[1,"main-div","card","container-fluid",2,"width","380px"],[1,"title-cbc"],["class","mt-2",4,"ngIf"],["id","addAssessmentModal","tabindex","-1","data-backdrop","static","data-keyboard","false","aria-labelledby","addAssessmentModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","addAssessmentModalLabel",1,"modal-title"],[1,"modal-body"],[3,"formGroup",4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","btn-sm","modal-btn",3,"click"],["closeModalBtn",""],["type","button",1,"btn","btn-primary","btn-sm","modal-btn",3,"disabled","click"],[1,"list-group","list-group-flush","int-list"],["class","list-group-item","style","background: black; color: white;","routerLinkActive","router-link-active",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","router-link-active",1,"list-group-item",2,"background","black","color","white",3,"routerLink"],[1,"no-assessment"],["data-toggle","modal","data-target","#addAssessmentModal",1,"btn","btn-dark","add-btn"],[1,"mt-2"],[1,"list-group","list-group-flush","tweet-list"],["class","list-group-item tweet-item",4,"ngFor","ngForOf"],[1,"list-group-item","tweet-item"],[2,"font-size","10px","float","right"],[2,"font-size","12px","float","left"],[3,"formGroup"],[1,"col-md-12",2,"padding","0 40px 10px 40px"],["formControlName","name","type","text","placeholder","name of the Assessment","pattern","^\\S*$",1,"form-control"],[1,"col-md-12","mt-3",2,"padding","0 40px 30px 40px"],["formControlName","days","type","number","placeholder","number of days for the Assessment","pattern","^\\S*$",1,"form-control"]],template:function(t,e){1&t&&(a.Pb(0,"div",0),a.Lb(1,"app-navbar"),a.Pb(2,"div",1),a.Pb(3,"div",2),a.Pb(4,"div",3),a.Pb(5,"div",4),a.Pb(6,"h3",5),a.oc(7,"My Assessment"),a.Ob(),a.Pb(8,"div",6),a.nc(9,g,3,1,"ng-container",7),a.nc(10,h,3,0,"ng-container",7),a.Ob(),a.Pb(11,"div",8),a.nc(12,p,2,0,"button",9),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(13,"div",10),a.Pb(14,"div",11),a.Pb(15,"div",4),a.Pb(16,"h3",12),a.oc(17,"CBCHealth News"),a.Ob(),a.Pb(18,"small"),a.oc(19,"Latest tweets by CBCHealth"),a.Ob(),a.nc(20,O,3,1,"div",13),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(21,"div",14),a.Pb(22,"div",15),a.Pb(23,"div",16),a.Pb(24,"div",17),a.Pb(25,"h5",18),a.oc(26,"New Assessment"),a.Ob(),a.Ob(),a.Pb(27,"div",19),a.nc(28,w,8,1,"form",20),a.Ob(),a.Pb(29,"div",21),a.Pb(30,"button",22,23),a.Xb("click",(function(){return e.closeModal()})),a.oc(32,"Close"),a.Ob(),a.Pb(33,"button",24),a.Xb("click",(function(){return e.addNew()})),a.oc(34,"Save"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&t&&(a.zb(9),a.ec("ngIf",e.assessmentList&&e.assessmentList.length>0),a.zb(1),a.ec("ngIf",e.assessmentList&&0===e.assessmentList.length),a.zb(2),a.ec("ngIf",e.assessmentList&&0===e.assessmentList.length),a.zb(8),a.ec("ngIf",e.tweetList),a.zb(8),a.ec("ngIf",e.newAssessmentForm),a.zb(5),a.ec("disabled",e.loading||e.newAssessmentForm.invalid))},directives:[d.a,s.j,s.i,i.d,i.c,o.p,o.g,o.d,o.a,o.f,o.c,o.k,o.j],pipes:[s.d],styles:[".main-div[_ngcontent-%COMP%]{max-width:650px;margin:150px auto auto;border-radius:10px;box-shadow:0 2px 12px rgba(0,0,0,.4)}.title[_ngcontent-%COMP%]{font-weight:600;margin:10px 0 30px;text-align:center}.title-cbc[_ngcontent-%COMP%]{font-weight:600;margin:10px 0 0}.int-list-div[_ngcontent-%COMP%]{margin:0;max-height:200px;overflow:auto}.list-group-item[_ngcontent-%COMP%]{border-radius:5px;text-align:center;font-weight:500}.add-btn-div[_ngcontent-%COMP%]{margin:20px auto;text-align:center}.add-btn[_ngcontent-%COMP%]{background-color:#000;padding:8px 15px;font-size:14px;font-weight:500;border-radius:5px}.int-list[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#f5f5f5;cursor:pointer}p.no-assessment[_ngcontent-%COMP%]{margin-bottom:0;text-align:center;font-weight:500}.modal-btn[_ngcontent-%COMP%]{border-radius:5px;background-color:#000;font-weight:500}ul.tweet-list[_ngcontent-%COMP%]{overflow:auto;max-height:350px!important}li.tweet-item[_ngcontent-%COMP%]{font-weight:500!important;text-align:initial!important;font-size:14px!important;padding:5px!important}"]}),y),k=((P=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||P)},P.\u0275cmp=a.Eb({type:P,selectors:[["app-assessment"]],decls:1,vars:0,template:function(t,e){1&t&&a.Lb(0,"router-outlet")},directives:[i.g],styles:[""]}),P),C=["closeModalBtn"];function L(t,e){1&t&&(a.Nb(0),a.Pb(1,"div",22),a.oc(2," No records found. "),a.Ob(),a.Mb())}function A(t,e){1&t&&(a.Nb(0),a.Pb(1,"b"),a.oc(2,"Status"),a.Ob(),a.oc(3,": Complete"),a.Lb(4,"br"),a.Mb())}function M(t,e){1&t&&(a.Nb(0),a.Pb(1,"b"),a.oc(2,"Status"),a.Ob(),a.oc(3,": Incomplete"),a.Lb(4,"br"),a.Mb())}function _(t,e){if(1&t){var n=a.Qb();a.Pb(0,"li",25),a.Pb(1,"div",15),a.Pb(2,"div",26),a.Pb(3,"b"),a.oc(4,"Name"),a.Ob(),a.oc(5),a.Lb(6,"br"),a.nc(7,A,5,0,"ng-container",4),a.nc(8,M,5,0,"ng-container",4),a.Pb(9,"b"),a.oc(10,"Remaining days"),a.Ob(),a.oc(11),a.Lb(12,"br"),a.Pb(13,"b"),a.oc(14,"Created on"),a.Ob(),a.oc(15),a.cc(16,"date"),a.Lb(17,"br"),a.Ob(),a.Pb(18,"div",27),a.Pb(19,"a",28),a.Xb("click",(function(){a.ic(n);var t=e.$implicit;return a.bc(2).downloadReport(t.id)})),a.oc(20,"Download"),a.Pb(21,"span"),a.ac(),a.Pb(22,"svg",29),a.Lb(23,"path",30),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Zb(),a.Pb(24,"div",31),a.Pb(25,"a",32),a.Xb("click",(function(){a.ic(n);var t=e.$implicit;return a.bc(2).setCurrentAssessment(t.id)})),a.oc(26,"Share"),a.Pb(27,"span"),a.ac(),a.Pb(28,"svg",33),a.Lb(29,"path",34),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()}if(2&t){var s=e.$implicit;a.zb(5),a.qc(": ",s.name,""),a.zb(2),a.ec("ngIf",s.end_datetime),a.zb(1),a.ec("ngIf",!s.end_datetime),a.zb(3),a.qc(": ",s.total_days-s.completed_days,""),a.zb(4),a.qc(": ",a.dc(16,5,s.created_date,"mediumDate"),"")}}function I(t,e){if(1&t&&(a.Pb(0,"ul",23),a.nc(1,_,30,8,"li",24),a.Ob()),2&t){var n=a.bc();a.zb(1),a.ec("ngForOf",n.assessmentList)}}function z(t,e){1&t&&(a.Pb(0,"div",35),a.Pb(1,"small",36),a.oc(2,"*You can download or share your assessment report by clicking 'Download' or 'Share'"),a.Ob(),a.Ob())}var D,Q=function(){return["/assessment"]},E=((D=function(){function t(e,n,s){_classCallCheck(this,t),this.elementRef=e,this.http=n,this.toastr=s,this.assessmentList=null,this.toEmail=null,this.emailAssessmentId=null}return _createClass(t,[{key:"ngOnInit",value:function(){this.getAssessmentList()}},{key:"ngAfterViewInit",value:function(){this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor="lightgray"}},{key:"getAssessmentList",value:function(){var t=this;this.http.get("all-assessments").subscribe((function(e){t.assessmentList=e,console.log(e)}),(function(t){console.log(t)}))}},{key:"downloadReport",value:function(t){t&&this.http.getFile("generate-report/"+t).subscribe((function(t){var e=window.URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download="report.pdf",document.body.appendChild(n),n.click(),n.remove()}),(function(t){console.log(t)}))}},{key:"shareReport",value:function(){var t=this;this.emailAssessmentId&&this.toEmail&&this.http.get("share-report/"+this.emailAssessmentId,{email:this.toEmail}).subscribe((function(e){console.log(e),t.closeModal(),t.closeBtn.nativeElement.click(),t.toastr.success("","Email sent!",{timeOut:3e3})}),(function(t){console.log(t)}))}},{key:"setCurrentAssessment",value:function(t){this.emailAssessmentId=t}},{key:"closeModal",value:function(){this.toEmail=null,this.emailAssessmentId=null}}]),t}()).\u0275fac=function(t){return new(t||D)(a.Kb(a.l),a.Kb(c.a),a.Kb(b.b))},D.\u0275cmp=a.Eb({type:D,selectors:[["app-history"]],viewQuery:function(t,e){var n;1&t&&a.tc(C,!0),2&t&&a.hc(n=a.Yb())&&(e.closeBtn=n.first)},decls:29,vars:7,consts:[[1,"container"],[1,"main-div","card","container-fluid"],[1,"card-body"],[1,"title"],[4,"ngIf"],["class","list-group list-group-flush",4,"ngIf"],[1,"text-center","mt-3"],["routerLinkActive","router-link-active","type","button",1,"btn","btn-dark","add-btn",3,"routerLink"],["class","text-center mt-4",4,"ngIf"],["id","addEmailModal","tabindex","-1","data-backdrop","static","data-keyboard","false","aria-labelledby","addEmailModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","addEmailModalLabel",1,"modal-title"],[1,"modal-body"],[1,"row"],[1,"col-md-12",2,"padding","0 40px 10px 40px"],["type","email","placeholder","recipient email","pattern","^\\S*$",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","btn-sm","modal-btn",3,"click"],["closeModalBtn",""],["type","button",1,"btn","btn-primary","btn-sm","modal-btn",3,"disabled","click"],[1,"text-center"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"col-md-7"],[1,"col-md-3"],["href","javascript:void(0)",2,"font-weight","500","text-decoration","none",3,"click"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-cloud-download-fill",2,"margin-left","5px"],["fill-rule","evenodd","d","M8 0a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 4.095 0 5.555 0 7.318 0 9.366 1.708 11 3.781 11H7.5V5.5a.5.5 0 0 1 1 0V11h4.188C14.502 11 16 9.57 16 7.773c0-1.636-1.242-2.969-2.834-3.194C12.923 1.999 10.69 0 8 0zm-.354 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V11h-1v3.293l-2.146-2.147a.5.5 0 0 0-.708.708l3 3z"],[1,"col-md-2"],["href","javascript:void(0)","data-toggle","modal","data-target","#addEmailModal",2,"font-weight","500","text-decoration","none",3,"click"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-envelope-fill",2,"margin-left","5px"],["fill-rule","evenodd","d","M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z"],[1,"text-center","mt-4"],[2,"font-weight","500"]],template:function(t,e){1&t&&(a.Pb(0,"div",0),a.Lb(1,"app-navbar"),a.Pb(2,"div",1),a.Pb(3,"div",2),a.Pb(4,"h3",3),a.oc(5,"History"),a.Ob(),a.nc(6,L,3,0,"ng-container",4),a.nc(7,I,2,1,"ul",5),a.Pb(8,"div",6),a.Pb(9,"a",7),a.oc(10,"BACK"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.nc(11,z,3,0,"div",8),a.Ob(),a.Pb(12,"div",9),a.Pb(13,"div",10),a.Pb(14,"div",11),a.Pb(15,"div",12),a.Pb(16,"h5",13),a.oc(17,"Share via email"),a.Ob(),a.Ob(),a.Pb(18,"div",14),a.Pb(19,"div",15),a.Pb(20,"div",16),a.oc(21," Email: "),a.Pb(22,"input",17),a.Xb("ngModelChange",(function(t){return e.toEmail=t})),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(23,"div",18),a.Pb(24,"button",19,20),a.Xb("click",(function(){return e.closeModal()})),a.oc(26,"Close"),a.Ob(),a.Pb(27,"button",21),a.Xb("click",(function(){return e.shareReport()})),a.oc(28,"Save"),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&t&&(a.zb(6),a.ec("ngIf",e.assessmentList&&0===e.assessmentList.length),a.zb(1),a.ec("ngIf",e.assessmentList),a.zb(2),a.ec("routerLink",a.fc(6,Q)),a.zb(2),a.ec("ngIf",e.assessmentList),a.zb(11),a.ec("ngModel",e.toEmail),a.zb(5),a.ec("disabled",!e.toEmail))},directives:[d.a,s.j,i.e,i.d,o.a,o.k,o.f,o.h,s.i],pipes:[s.d],styles:[".main-div[_ngcontent-%COMP%]{max-width:800px;margin:150px auto auto;border-radius:10px;box-shadow:0 2px 12px rgba(0,0,0,.4)}.title[_ngcontent-%COMP%]{font-weight:600;margin:10px 0 30px;text-align:center}.add-btn[_ngcontent-%COMP%]{background-color:#000;padding:8px 15px;font-size:14px;font-weight:500;border-radius:5px}ul.list-group[_ngcontent-%COMP%]{max-height:350px;overflow:auto}.modal-btn[_ngcontent-%COMP%]{border-radius:5px;background-color:#000;font-weight:500}"]}),D);function N(t,e){if(1&t){var n=a.Qb();a.Pb(0,"div",7),a.Pb(1,"div"),a.Pb(2,"p",8),a.oc(3,"No Questions remaining for today."),a.Ob(),a.Ob(),a.Pb(4,"button",9),a.Xb("click",(function(){return a.ic(n),a.bc().goToAssessmentList()})),a.oc(5,"BACK"),a.Ob(),a.Ob()}}function q(t,e){if(1&t){var n=a.Qb();a.Pb(0,"button",20),a.Xb("click",(function(){return a.ic(n),a.bc(2).saveAnswer()})),a.oc(1,"NEXT"),a.Ob()}if(2&t){var s=a.bc(2);a.ec("disabled",0==s.selectedAnswer)}}function F(t,e){if(1&t){var n=a.Qb();a.Pb(0,"button",20),a.Xb("click",(function(){return a.ic(n),a.bc(2).saveAnswer(!0)})),a.oc(1,"FINISH"),a.Ob()}if(2&t){var s=a.bc(2);a.ec("disabled",0==s.selectedAnswer)}}function S(t,e){if(1&t){var n=a.Qb();a.Nb(0),a.Pb(1,"h4",10),a.oc(2),a.Ob(),a.Pb(3,"div",11),a.Pb(4,"p",12),a.oc(5),a.Ob(),a.Ob(),a.Pb(6,"div",13),a.Pb(7,"select",14),a.Xb("ngModelChange",(function(t){return a.ic(n),a.bc().selectedAnswer=t})),a.Pb(8,"option",15),a.oc(9,"Select answer"),a.Ob(),a.Pb(10,"option",16),a.oc(11,"Yes"),a.Ob(),a.Pb(12,"option",17),a.oc(13,"No"),a.Ob(),a.Ob(),a.Ob(),a.Pb(14,"div",18),a.nc(15,q,2,1,"button",19),a.nc(16,F,2,1,"button",19),a.Lb(17,"br"),a.Ob(),a.Mb()}if(2&t){var s=a.bc();a.zb(2),a.rc("Question ",s.currentQueIndex+1," of ",s.queList.length,""),a.zb(3),a.pc(s.currentQue.que_text),a.zb(2),a.ec("ngModel",s.selectedAnswer),a.zb(8),a.ec("ngIf",!s.showFinish),a.zb(1),a.ec("ngIf",s.showFinish)}}function K(t,e){if(1&t&&(a.Pb(0,"p",21),a.oc(1),a.Lb(2,"br"),a.oc(3),a.cc(4,"date"),a.Ob()),2&t){var n=a.bc();a.zb(1),a.qc("Day ",n.currentDayCount," of Assessment"),a.zb(2),a.qc(" ",a.dc(4,2,n.today,"mediumDate")," ")}}function B(t,e){if(1&t&&(a.Pb(0,"p",21),a.oc(1),a.cc(2,"date"),a.Ob()),2&t){var n=a.bc();a.zb(1),a.qc(" ",a.dc(2,1,n.today,"mediumDate")," ")}}var X,j,R,H=[{path:"",component:k,children:[{path:"",component:x},{path:"start/:id",component:(X=function(){function t(e,n,s,i,o){_classCallCheck(this,t),this.elementRef=e,this.route=n,this.http=s,this.router=i,this.toastr=o,this.assessmentData={},this.userData=null,this.queList=[],this.currentQue=null,this.selectedAnswer=0,this.showFinish=!1,this.currentDayCount=null,this.today=null,this.userData=JSON.parse(localStorage.getItem("user_data"))}return _createClass(t,[{key:"ngOnInit",value:function(){this.route.snapshot.params.hasOwnProperty("id")&&(this.assessmentData.id=this.route.snapshot.params.id,this.getAssessmentData(this.assessmentData.id)),this.today=new Date}},{key:"ngAfterViewInit",value:function(){this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor="lightgray"}},{key:"getAssessmentData",value:function(t){var e=this;this.http.get("user-assessment/"+t).subscribe((function(t){console.log(t),e.assessmentData=t,e.currentDayCount=parseInt(e.assessmentData.completed_days)+1,console.log("daycount:",e.currentDayCount),e.getQuestions(e.assessmentData.id)}),(function(t){console.log(t)}))}},{key:"getQuestions",value:function(t){var e=this;this.userData&&this.userData.user_id&&t&&this.http.post("today-questions",{user:this.userData.user_id,assessment:this.assessmentData.id}).subscribe((function(t){console.log(t),e.queList=t,e.setQue(e.queList)}),(function(t){console.log(t),t.error.submitted_msg&&e.toastr.error(t.error.submitted_msg[0],"Error!",{timeOut:5e3})}))}},{key:"setQue",value:function(t){t.length>0&&(this.currentQueIndex=0,this.currentQue=t[this.currentQueIndex],1==t.length&&(this.showFinish=!0))}},{key:"saveAnswer",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=new Date,s={user:this.userData.user_id,assessment:this.assessmentData.id,question:this.currentQue.id,answer:parseInt(this.selectedAnswer),answer_datetime:n};this.http.post("user-answer",s).subscribe((function(n){console.log(n),e?t.updateAssessment(t.assessmentData.id):(t.currentQueIndex=t.currentQueIndex+1,t.currentQue=t.queList[t.currentQueIndex],t.selectedAnswer=0,t.currentQueIndex===t.queList.length-1&&(t.showFinish=!0))}),(function(t){console.log(t)}))}},{key:"updateAssessment",value:function(t){var e=this,n=parseInt(this.assessmentData.completed_days)+1;this.http.patch("user-assessment/"+t,{completed_days:n}).subscribe((function(t){console.log(t),e.toastr.success("You assessment is submitted.","Submitted!",{timeOut:5e3}),e.goToAssessmentList()}),(function(t){console.log(t)}))}},{key:"goToAssessmentList",value:function(){this.router.navigateByUrl("/assessment")}},{key:"changeQue",value:function(){}}]),t}(),X.\u0275fac=function(t){return new(t||X)(a.Kb(a.l),a.Kb(i.a),a.Kb(c.a),a.Kb(i.b),a.Kb(b.b))},X.\u0275cmp=a.Eb({type:X,selectors:[["app-start-assessment"]],decls:9,vars:4,consts:[[1,"container"],[1,"main-div","card","container-fluid"],[1,"card-body"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"mt-5",2,"display","flex","justify-content","center"],["class","text-center","style","font-weight: 400;",4,"ngIf"],[1,"text-center"],[1,"mt-5","mb-5",2,"font-weight","500"],[1,"btn","btn-dark","add-btn","mt-3",3,"click"],[1,"title"],[1,"que-div"],[2,"font-weight","500"],[1,"mb-3","mt-0","select-div"],["id","inputGroupSelect01","placeholder","select answer",1,"custom-select",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],[1,"next-btn-div"],["class","btn btn-dark add-btn",3,"disabled","click",4,"ngIf"],[1,"btn","btn-dark","add-btn",3,"disabled","click"],[1,"text-center",2,"font-weight","400"]],template:function(t,e){1&t&&(a.Pb(0,"div",0),a.Lb(1,"app-navbar"),a.Pb(2,"div",1),a.Pb(3,"div",2),a.nc(4,N,6,0,"div",3),a.nc(5,S,18,6,"ng-container",4),a.Ob(),a.Ob(),a.Pb(6,"div",5),a.nc(7,K,5,5,"p",6),a.nc(8,B,3,4,"p",6),a.Ob(),a.Ob()),2&t&&(a.zb(4),a.ec("ngIf",!e.currentQue),a.zb(1),a.ec("ngIf",e.currentQue),a.zb(2),a.ec("ngIf",e.currentQue&&e.currentDayCount),a.zb(1),a.ec("ngIf",!e.currentQue))},directives:[d.a,s.j,o.m,o.f,o.h,o.i,o.o],pipes:[s.d],styles:[".main-div[_ngcontent-%COMP%]{max-width:600px;margin:150px auto auto;border-radius:10px;box-shadow:0 2px 12px rgba(0,0,0,.4)}.title[_ngcontent-%COMP%]{text-align:center}.next-btn-div[_ngcontent-%COMP%]{float:right}.add-btn[_ngcontent-%COMP%]{background-color:#000;padding:8px 15px;font-size:14px;font-weight:500;border-radius:5px}.que-div[_ngcontent-%COMP%]{text-align:center;margin-top:30px}.select-div[_ngcontent-%COMP%]{display:flex;justify-content:center}.custom-select[_ngcontent-%COMP%]{max-width:150px}"]}),X)},{path:"history",component:E}]}],T=((j=function t(){_classCallCheck(this,t)}).\u0275mod=a.Ib({type:j}),j.\u0275inj=a.Hb({factory:function(t){return new(t||j)},imports:[[i.f.forChild(H)],i.f]}),j),$=n("PCNd"),V=((R=function t(){_classCallCheck(this,t)}).\u0275mod=a.Ib({type:R}),R.\u0275inj=a.Hb({factory:function(t){return new(t||R)},imports:[[s.b,T,$.a,o.e,o.l]]}),R)}}]);